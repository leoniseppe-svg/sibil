<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sibil | Product Marketing Consultancy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300;400;600;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Funnel Display', sans-serif;
            scroll-behavior: smooth;
        }
        .bg-soft { background-color: #fcfcfc; }
        .text-balanced { text-wrap: balance; }
        .hero-gradient {
            background: radial-gradient(circle at 50% 50%, #ffffff 0%, #f3f4f6 100%);
        }
        .reveal {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease-out;
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        .nav-blur {
            backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.8);
        }
        .loading-shimmer {
            background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
        }
        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
    </style>
</head>
<body class="text-zinc-900 bg-soft selection:bg-zinc-900 selection:text-white">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 nav-blur border-b border-zinc-100">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="#" class="text-2xl font-bold tracking-tighter lowercase">sibil.</a>
            <div class="hidden md:flex space-x-12 text-sm font-medium tracking-wide uppercase">
                <a href="#expertise" class="hover:text-zinc-500 transition-colors">Expertise</a>
                <a href="#lab" class="hover:text-zinc-500 transition-colors">Clarity Lab</a>
                <a href="#philosophy" class="hover:text-zinc-500 transition-colors">Philosophy</a>
                <a href="#contact" class="hover:text-zinc-500 transition-colors">Connect</a>
            </div>
            <a href="#contact" class="md:hidden">
                <i data-lucide="menu"></i>
            </a>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="min-h-screen pt-32 pb-20 flex flex-col justify-center px-6 hero-gradient">
        <div class="max-w-5xl mx-auto">
            <span class="inline-block px-4 py-1.5 mb-8 text-xs font-semibold tracking-widest uppercase border border-zinc-200 rounded-full">
                Independent Product Marketing
            </span>
            <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight mb-10 leading-[0.9] text-balanced">
                Bringing clarity to <span class="italic font-light">complex</span> products.
            </h1>
            <p class="text-xl md:text-2xl text-zinc-600 max-w-2xl font-light leading-relaxed mb-12">
                sibil is a solo consultancy helping technology companies bridge the gap between product capability and market desire.
            </p>
            <div class="flex flex-col sm:flex-row gap-4">
                <a href="#lab" class="inline-flex items-center justify-center px-8 py-4 bg-zinc-900 text-white rounded-xl font-medium hover:bg-zinc-800 transition-all group">
                    Enter the Lab
                    <i data-lucide="sparkles" class="ml-2 w-4 h-4"></i>
                </a>
                <a href="#expertise" class="inline-flex items-center justify-center px-8 py-4 border border-zinc-200 rounded-xl font-medium hover:bg-white transition-all">
                    View Expertise
                </a>
            </div>
        </div>
    </section>

    <!-- Services / Expertise -->
    <section id="expertise" class="py-32 px-6 bg-white">
        <div class="max-w-7xl mx-auto">
            <div class="grid md:grid-cols-2 gap-20 items-end mb-24 reveal">
                <div>
                    <h2 class="text-4xl md:text-5xl font-bold tracking-tight mb-6">Intentional Growth.</h2>
                    <p class="text-lg text-zinc-600 font-light">Marketing isn't just about traffic; it's about making sure the right people understand why your product matters.</p>
                </div>
                <div class="text-right hidden md:block">
                    <span class="text-9xl font-black text-zinc-50 opacity-10">01</span>
                </div>
            </div>

            <div class="grid md:grid-cols-3 gap-12">
                <div class="reveal group">
                    <div class="mb-6 p-4 bg-zinc-50 rounded-2xl inline-block group-hover:bg-zinc-900 group-hover:text-white transition-colors">
                        <i data-lucide="target" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Positioning & Narrative</h3>
                    <p class="text-zinc-600 font-light leading-relaxed">
                        I craft the story that makes your product's value undeniable, carving out a unique space in a crowded market.
                    </p>
                </div>
                <div class="reveal delay-100 group">
                    <div class="mb-6 p-4 bg-zinc-50 rounded-2xl inline-block group-hover:bg-zinc-900 group-hover:text-white transition-colors">
                        <i data-lucide="rocket" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Go-To-Market Strategy</h3>
                    <p class="text-zinc-600 font-light leading-relaxed">
                        From pricing to distribution channels, I build a repeatable engine for launching and scaling features.
                    </p>
                </div>
                <div class="reveal delay-200 group">
                    <div class="mb-6 p-4 bg-zinc-50 rounded-2xl inline-block group-hover:bg-zinc-900 group-hover:text-white transition-colors">
                        <i data-lucide="message-square" class="w-8 h-8"></i>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Content Strategy</h3>
                    <p class="text-zinc-600 font-light leading-relaxed">
                        Creating thought-leadership and sales enablement tools that turn curious leads into loyal customers.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- ✨ Gemini AI Clarity Lab -->
    <section id="lab" class="py-32 px-6 bg-zinc-50 border-y border-zinc-100">
        <div class="max-w-4xl mx-auto text-center reveal">
            <h2 class="text-4xl md:text-5xl font-bold tracking-tight mb-6">The Clarity Lab</h2>
            <p class="text-zinc-600 font-light mb-12 max-w-2xl mx-auto">Experience the sibil approach instantly. Describe your product below, and our ✨ Gemini-powered engine will help refine your core narrative.</p>
            
            <div class="bg-white p-8 md:p-12 rounded-[2.5rem] shadow-xl shadow-zinc-200/50 border border-zinc-100 text-left">
                <div id="lab-input-state">
                    <div class="space-y-6">
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase tracking-widest text-zinc-400">What does your product do?</label>
                            <textarea id="lab-product" placeholder="e.g. A task manager for busy creative directors that uses AI to prioritize deadlines." class="w-full px-5 py-4 bg-zinc-50 border border-zinc-100 rounded-2xl focus:ring-2 focus:ring-zinc-900 outline-none transition-all resize-none h-32"></textarea>
                        </div>
                        <button onclick="generateNarrative()" id="lab-btn" class="w-full py-4 bg-zinc-900 text-white rounded-2xl font-bold hover:bg-zinc-800 transition-all flex items-center justify-center gap-2">
                            <span>✨ Refine Narrative</span>
                        </button>
                    </div>
                </div>

                <div id="lab-loading" class="hidden py-12 text-center space-y-6">
                    <div class="w-full h-4 loading-shimmer rounded-full"></div>
                    <div class="w-3/4 h-4 loading-shimmer rounded-full mx-auto"></div>
                    <div class="w-1/2 h-4 loading-shimmer rounded-full mx-auto"></div>
                    <p class="text-zinc-400 text-sm animate-pulse">Sifting through the noise...</p>
                </div>

                <div id="lab-output-state" class="hidden space-y-8">
                    <div class="p-8 bg-zinc-900 text-white rounded-3xl relative overflow-hidden">
                        <i data-lucide="quote" class="absolute -top-4 -right-4 w-24 h-24 text-white/5"></i>
                        <p id="lab-result" class="text-2xl font-light italic leading-relaxed text-balanced"></p>
                    </div>
                    
                    <div class="flex flex-col md:flex-row gap-4">
                        <button onclick="speakPitch()" id="speak-btn" class="flex-1 py-4 border border-zinc-200 rounded-2xl font-bold hover:bg-zinc-50 transition-all flex items-center justify-center gap-2">
                            <i data-lucide="volume-2" class="w-5 h-5"></i>
                            <span>✨ Hear Audible Pitch</span>
                        </button>
                        <button onclick="resetLab()" class="py-4 px-8 border border-zinc-200 rounded-2xl font-medium text-zinc-400 hover:text-zinc-900 transition-all">
                            Start Over
                        </button>
                    </div>
                    <div id="audio-loading" class="hidden text-center text-xs text-zinc-400 animate-pulse">
                        Generating professional voiceover...
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Philosophy -->
    <section id="philosophy" class="py-32 px-6 bg-zinc-900 text-white overflow-hidden">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-20 items-center">
            <div class="reveal">
                <h2 class="text-4xl md:text-5xl font-bold tracking-tight mb-10">The sibil Approach.</h2>
                <div class="space-y-8">
                    <div>
                        <h4 class="text-xl font-bold mb-2">Deep Work Only.</h4>
                        <p class="text-zinc-400 font-light leading-relaxed">I don't offer templates. Every engagement starts with a clean slate and deep immersion into your product and customers.</p>
                    </div>
                    <div>
                        <h4 class="text-xl font-bold mb-2">Direct Collaboration.</h4>
                        <p class="text-zinc-400 font-light leading-relaxed">You work with me, not an account manager. We move fast, communicate clearly, and focus on outcomes.</p>
                    </div>
                </div>
            </div>
            <div class="relative reveal">
                <div class="aspect-square bg-zinc-800 rounded-3xl p-12 flex flex-col justify-end">
                    <i data-lucide="quote" class="w-12 h-12 mb-8 text-zinc-600"></i>
                    <p class="text-3xl font-light italic leading-snug">"sibil was founded on the belief that the best marketing is simply the clearest expression of the truth about a product."</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-32 px-6 bg-soft">
        <div class="max-w-3xl mx-auto text-center reveal">
            <h2 class="text-5xl md:text-7xl font-extrabold tracking-tight mb-10">Ready to scale?</h2>
            <p class="text-xl text-zinc-600 font-light mb-12">I take on a limited number of clients to ensure dedicated attention.</p>
            
            <div class="bg-white p-8 md:p-12 rounded-3xl border border-zinc-100 shadow-sm text-left">
                <!-- Formspree Integration -->
                <form id="contactForm" onsubmit="return handleForm(event)" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase tracking-widest text-zinc-400">Name</label>
                            <input type="text" name="name" required class="w-full px-4 py-3 bg-zinc-50 border border-zinc-100 rounded-xl focus:ring-2 focus:ring-zinc-900 outline-none transition-all">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase tracking-widest text-zinc-400">Email</label>
                            <input type="email" name="email" required class="w-full px-4 py-3 bg-zinc-50 border border-zinc-100 rounded-xl focus:ring-2 focus:ring-zinc-900 outline-none transition-all">
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label class="text-xs font-bold uppercase tracking-widest text-zinc-400">Message</label>
                        <textarea name="message" rows="4" required class="w-full px-4 py-3 bg-zinc-50 border border-zinc-100 rounded-xl focus:ring-2 focus:ring-zinc-900 outline-none transition-all resize-none"></textarea>
                    </div>
                    <button type="submit" id="submitBtn" class="w-full py-4 bg-zinc-900 text-white rounded-xl font-bold hover:bg-zinc-800 transition-all">
                        Send Inquiry
                    </button>
                </form>
                <div id="successMessage" class="hidden text-center py-10">
                    <i data-lucide="check-circle" class="w-12 h-12 text-green-500 mx-auto mb-4"></i>
                    <h3 class="text-2xl font-bold mb-2">Message Sent</h3>
                    <p class="text-zinc-600">I'll get back to you at leoniseppe@gmail.com within 48 hours.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-12 border-t border-zinc-100 bg-white px-6">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between text-zinc-400 text-sm">
            <p>&copy; 2024 sibil. All rights reserved.</p>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // Gemini API Configuration
        const apiKey = ""; // <--- Paste your Gemini API key here
        const MODEL_TEXT = "gemini-2.5-flash-preview-09-2025";
        const MODEL_TTS = "gemini-2.5-flash-preview-tts";

        async function fetchWithRetry(url, options, maxRetries = 5) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.ok) return await response.json();
                } catch (e) {}
                await new Promise(res => setTimeout(res, Math.pow(2, i) * 1000));
            }
            throw new Error("API Connection Failed");
        }

        async function generateNarrative() {
            const product = document.getElementById('lab-product').value;
            if (!product) return;

            const inputState = document.getElementById('lab-input-state');
            const loading = document.getElementById('lab-loading');
            const outputState = document.getElementById('lab-output-state');
            const resultText = document.getElementById('lab-result');

            inputState.classList.add('hidden');
            loading.classList.remove('hidden');

            const systemPrompt = "You are sibil, a high-end product marketing consultant. Rewrite the user's product description into a punchy, sophisticated, and clear value proposition. Avoid jargon. Focus on the core 'truth' and human benefit. Keep it under 45 words. Output only the text.";

            try {
                const data = await fetchWithRetry(`https://generativelanguage.googleapis.com/v1beta/models/${MODEL_TEXT}:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: product }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] }
                    })
                });

                const text = data.candidates?.[0]?.content?.parts?.[0]?.text;
                resultText.innerText = text;
                loading.classList.add('hidden');
                outputState.classList.remove('hidden');
                lucide.createIcons();
            } catch (err) {
                alert("The Lab is currently busy. Please try again in a moment.");
                resetLab();
            }
        }

        async function speakPitch() {
            const text = document.getElementById('lab-result').innerText;
            const audioLoading = document.getElementById('audio-loading');
            const speakBtn = document.getElementById('speak-btn');
            
            audioLoading.classList.remove('hidden');
            speakBtn.disabled = true;

            try {
                const data = await fetchWithRetry(`https://generativelanguage.googleapis.com/v1beta/models/${MODEL_TTS}:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Say professionally and calmly: ${text}` }] }],
                        generationConfig: {
                            responseModalities: ["AUDIO"],
                            speechConfig: {
                                voiceConfig: { prebuiltVoiceConfig: { voiceName: "Charon" } }
                            }
                        }
                    })
                });

                const audioData = data.candidates[0].content.parts[0].inlineData.data;
                const sampleRate = 24000; 
                
                const playAudio = (base64) => {
                    const binary = atob(base64);
                    const len = binary.length;
                    const bytes = new Int16Array(len / 2);
                    for (let i = 0; i < len; i += 2) {
                        bytes[i / 2] = (binary.charCodeAt(i + 1) << 8) | binary.charCodeAt(i);
                    }
                    
                    const wavHeader = new ArrayBuffer(44 + bytes.byteLength);
                    const view = new DataView(wavHeader);
                    const writeString = (offset, string) => {
                        for (let i = 0; i < string.length; i++) view.setUint8(offset + i, string.charCodeAt(i));
                    };
                    writeString(0, 'RIFF');
                    view.setUint32(4, 36 + bytes.byteLength, true);
                    writeString(8, 'WAVE');
                    writeString(12, 'fmt ');
                    view.setUint32(16, 16, true);
                    view.setUint16(20, 1, true);
                    view.setUint16(22, 1, true);
                    view.setUint32(24, sampleRate, true);
                    view.setUint32(28, sampleRate * 2, true);
                    view.setUint16(32, 2, true);
                    view.setUint16(34, 16, true);
                    writeString(36, 'data');
                    view.setUint32(40, bytes.byteLength, true);
                    new Uint8Array(wavHeader, 44).set(new Uint8Array(bytes.buffer));
                    
                    const blob = new Blob([wavHeader], { type: 'audio/wav' });
                    const url = URL.createObjectURL(blob);
                    const audio = new Audio(url);
                    audio.play();
                };

                playAudio(audioData);
            } catch (err) {
                console.error(err);
            } finally {
                audioLoading.classList.add('hidden');
                speakBtn.disabled = false;
            }
        }

        function resetLab() {
            document.getElementById('lab-input-state').classList.remove('hidden');
            document.getElementById('lab-output-state').classList.add('hidden');
            document.getElementById('lab-loading').classList.add('hidden');
            document.getElementById('lab-product').value = '';
        }

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('active'); });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // Updated handleForm with Formspree AJAX
        async function handleForm(e) {
            e.preventDefault();
            const form = document.getElementById('contactForm');
            const success = document.getElementById('successMessage');
            const btn = document.getElementById('submitBtn');
            const formData = new FormData(form);

            btn.disabled = true;
            btn.innerText = "Sending...";

            try {
                const response = await fetch("https://formspree.io/f/leoniseppe@gmail.com", {
                    method: "POST",
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                });

                if (response.ok) {
                    form.style.display = 'none';
                    success.classList.remove('hidden');
                } else {
                    alert("Submission failed. Please try again or email leoniseppe@gmail.com directly.");
                    btn.disabled = false;
                    btn.innerText = "Send Inquiry";
                }
            } catch (error) {
                alert("An error occurred. Please check your connection.");
                btn.disabled = false;
                btn.innerText = "Send Inquiry";
            }
            
            return false;
        }
    </script>
</body>
</html>
